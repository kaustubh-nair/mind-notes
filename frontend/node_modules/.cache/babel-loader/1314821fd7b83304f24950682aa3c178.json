{"ast":null,"code":"import _slicedToArray from \"/home/kau/projects/acad/spe/mind-note-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kau/projects/acad/spe/mind-note-frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { useLocation, Redirect, BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Login from \"./components/login.component\";\nimport Logout from \"./components/logout.component\";\nimport Book from \"./components/book.component.js\";\nimport Navbar from \"./components/navbar.component\";\nimport AllBooks from \"./components/allbooks.component\";\nimport PublicApp from \"./PublicApp.js\";\nimport SignUp from \"./components/signup.component\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction setToken(userToken) {\n  sessionStorage.setItem('token', JSON.stringify(userToken));\n}\n\nfunction getToken() {\n  const tokenString = sessionStorage.getItem('token');\n  const userToken = JSON.parse(tokenString);\n  return userToken;\n}\n\nfunction useForceUpdate() {\n  let _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setState = _useState2[1];\n\n  return () => setState(!value);\n}\n\nlet renderedBooks = \"\";\nexport default function App() {\n  let query = useQuery();\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        mainPage = _useState4[0],\n        setMainPage = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        bookId = _useState6[0],\n        setBookId = _useState6[1];\n\n  let forceUpdate = useForceUpdate(); //setToken(null);\n\n  if (!getToken()) {\n    return React.createElement(PublicApp, {\n      setToken: setToken,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"outer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(AllBooks, {\n    getToken: getToken,\n    setBookId: setBookId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/logout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Logout, {\n    getToken: getToken,\n    setToken: setToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/book/:id/notes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Book, {\n    getToken: getToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))))));\n}","map":{"version":3,"sources":["/home/kau/projects/acad/spe/mind-note-frontend/src/App.js"],"names":["React","useState","useEffect","useLocation","Redirect","BrowserRouter","Router","Switch","Route","Link","Login","Logout","Book","Navbar","AllBooks","PublicApp","SignUp","useQuery","URLSearchParams","search","setToken","userToken","sessionStorage","setItem","JSON","stringify","getToken","tokenString","getItem","parse","useForceUpdate","value","setState","renderedBooks","App","query","mainPage","setMainPage","bookId","setBookId","forceUpdate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { useLocation, Redirect, BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport Login from \"./components/login.component\";\nimport Logout from \"./components/logout.component\";\nimport Book from \"./components/book.component.js\";\nimport Navbar from \"./components/navbar.component\";\nimport AllBooks from \"./components/allbooks.component\";\nimport PublicApp from \"./PublicApp.js\";\nimport SignUp from \"./components/signup.component\";\n\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction setToken(userToken) {\n  sessionStorage.setItem('token', JSON.stringify(userToken));\n}\n\n\nfunction getToken() {\n  const tokenString = sessionStorage.getItem('token');\n  const userToken = JSON.parse(tokenString);\n  return userToken\n}\n\nfunction useForceUpdate(){\n  let [value, setState] = useState(true);\n  return () => setState(!value);\n}\n\nlet renderedBooks = \"\";\nexport default function App() {\n  let query = useQuery();\n  const [mainPage, setMainPage] = useState(null);\n  const [bookId, setBookId] = useState(null);\n  let forceUpdate = useForceUpdate();\n\n   //setToken(null);\n  if(!getToken()) {\n      return <PublicApp setToken={setToken}/>\n  }\n\n    return (<Router>\n              <div className=\"App\">\n                <Navbar/>\n                <div className=\"outer\">\n                    <Switch>\n                          <Route exact path='/' >\n                            <AllBooks getToken={getToken} setBookId={setBookId}/>\n                          </Route>\n                          <Route path='/logout' >\n                            <Logout getToken={getToken} setToken={setToken}/>\n                          </Route>\n                          <Route exact path='/book/:id/notes'>\n                            <Book getToken={getToken} />\n                          </Route>\n                    </Switch>\n                </div>\n          </div>\n        </Router>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}