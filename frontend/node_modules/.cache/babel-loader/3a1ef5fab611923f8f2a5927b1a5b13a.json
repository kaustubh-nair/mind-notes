{"ast":null,"code":"import _slicedToArray from \"/home/kau/projects/acad/spe/mind-note-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kau/projects/acad/spe/mind-note-frontend/src/components/allbooks.component.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport { variables } from \"../urls.js\";\nexport default function AllBooks({\n  getToken\n}) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        books = _useState2[0],\n        setBooks = _useState2[1];\n\n  const fetchBooks = () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n    axios.get(url, {\n      headers: {\n        Authorization: 'Bearer ' + token.access\n      },\n      crossDomain: false,\n      params: {\n        user_id: '1'\n      }\n    }).then(function (response) {\n      setBooks(response.data);\n      console.debug(response.data[0].title);\n      console.debug(books);\n    });\n  };\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"h3\", {\n    class: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"My Books\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, books[0].title));\n}","map":{"version":3,"sources":["/home/kau/projects/acad/spe/mind-note-frontend/src/components/allbooks.component.js"],"names":["React","useState","useEffect","Redirect","axios","variables","AllBooks","getToken","books","setBooks","fetchBooks","url","serverUrl","fetchBooksEndpoint","token","get","headers","Authorization","access","crossDomain","params","user_id","then","response","data","console","debug","title"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAwB,kBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AAEA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA;AAAD,CAAlB,EAA8B;AAAA,oBACjBN,QAAQ,CAAC,IAAD,CADS;AAAA;AAAA,QACpCO,KADoC;AAAA,QAC7BC,QAD6B;;AAG3C,QAAMC,UAAU,GAAG,MAAM;AACvB,UAAMC,GAAG,GAAGN,SAAS,CAACO,SAAV,GAAsBP,SAAS,CAACQ,kBAA5C;AACA,UAAMC,KAAK,GAAGP,QAAQ,EAAtB;AACCH,IAAAA,KAAK,CAACW,GAAN,CAAUJ,GAAV,EAAe;AAAEK,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAE,YAAYH,KAAK,CAACI;AAAnC,OAAX;AAAwDC,MAAAA,WAAW,EAAE,KAArE;AAA4EC,MAAAA,MAAM,EAAE;AAACC,QAAAA,OAAO,EAAE;AAAV;AAApF,KAAf,EAAoHC,IAApH,CAAyH,UAASC,QAAT,EAAmB;AAC3Id,MAAAA,QAAQ,CAACc,QAAQ,CAACC,IAAV,CAAR;AACAC,MAAAA,OAAO,CAACC,KAAR,CAAcH,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBG,KAA/B;AACAF,MAAAA,OAAO,CAACC,KAAR,CAAclB,KAAd;AACA,KAJD;AAKF,GARD;;AAUAN,EAAAA,SAAS,CAAC,MAAM;AACfQ,IAAAA,UAAU;AACX,GAFS,EAEP,EAFO,CAAT;AAIA,SACE,0CACE;AAAI,IAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACDF,KAAK,CAAC,CAAD,CAAL,CAASmB,KADR,CAFF,CADF;AAQD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect} from \"react-router-dom\";\nimport axios from 'axios';\nimport {variables} from \"../urls.js\";\n\nexport default function AllBooks({getToken}) {\n  const [books, setBooks] = useState(null);\n\n  const fetchBooks = () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n     axios.get(url, { headers: { Authorization: 'Bearer ' + token.access }, crossDomain: false, params: {user_id: '1'}}).then(function(response) {\n      setBooks(response.data);\n      console.debug(response.data[0].title);\n      console.debug(books);\n     });\n  }\n\n  useEffect(() => {\n\t  fetchBooks();\n\t}, []);\n\n  return (\n    <>\n      <h3 class=\"header\">My Books</h3>\n      <div>\n    {books[0].title}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}