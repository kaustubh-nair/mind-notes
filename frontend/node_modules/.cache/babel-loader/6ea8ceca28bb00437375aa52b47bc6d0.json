{"ast":null,"code":"import _slicedToArray from \"/home/kau/projects/acad/spe/mind-note-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport { variables } from \"../urls.js\";\n\nfunction useForceUpdate() {\n  let _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setState = _useState2[1];\n\n  return () => setState(!value);\n}\n\nlet renderedBooks = \"\";\n\nfunction Feed({\n  getToken,\n  setBookId\n}) {\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        books = _useState4[0],\n        setBooks = _useState4[1];\n\n  const forceUpdate = useForceUpdate();\n\n  const fetchBooks = async () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n    const response = await axios.get(url, {\n      headers: {\n        Authorization: 'Bearer ' + token.access\n      },\n      crossDomain: false,\n      params: {\n        user_id: '1'\n      }\n    });\n    setBooks(response.data);\n    console.log(response.data);\n  };\n\n  useEffect(() => {\n    setRenderedBooks();\n  }, [books]);\n}","map":{"version":3,"sources":["/home/kau/projects/acad/spe/mind-note-frontend/src/components/feed.component.js"],"names":["React","useState","Redirect","variables","useForceUpdate","value","setState","renderedBooks","Feed","getToken","setBookId","books","setBooks","forceUpdate","fetchBooks","url","serverUrl","fetchBooksEndpoint","token","response","axios","get","headers","Authorization","access","crossDomain","params","user_id","data","console","log","useEffect","setRenderedBooks"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAwB,kBAAxB;AACA,SAAQC,SAAR,QAAwB,YAAxB;;AAEA,SAASC,cAAT,GAAyB;AAAA,kBACCH,QAAQ,CAAC,IAAD,CADT;AAAA;AAAA,MAClBI,KADkB;AAAA,MACXC,QADW;;AAEvB,SAAO,MAAMA,QAAQ,CAAC,CAACD,KAAF,CAArB;AACD;;AACD,IAAIE,aAAa,GAAG,EAApB;;AAEA,SAASC,IAAT,CAAc;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAd,EAAqC;AAAA,qBACTT,QAAQ,CAAC,IAAD,CADC;AAAA;AAAA,QAC5BU,KAD4B;AAAA,QACrBC,QADqB;;AAEnC,QAAMC,WAAW,GAAGT,cAAc,EAAlC;;AAGA,QAAMU,UAAU,GAAG,YAAY;AAC7B,UAAMC,GAAG,GAAGZ,SAAS,CAACa,SAAV,GAAsBb,SAAS,CAACc,kBAA5C;AACA,UAAMC,KAAK,GAAGT,QAAQ,EAAtB;AACA,UAAMU,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAN,CAAUN,GAAV,EAAe;AAAEO,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAE,YAAYL,KAAK,CAACM;AAAnC,OAAX;AAAwDC,MAAAA,WAAW,EAAE,KAArE;AAA4EC,MAAAA,MAAM,EAAE;AAACC,QAAAA,OAAO,EAAE;AAAV;AAApF,KAAf,CAAvB;AACAf,IAAAA,QAAQ,CAACO,QAAQ,CAACS,IAAV,CAAR;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACS,IAArB;AACD,GAND;;AAQAG,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,gBAAgB;AAClB,GAFS,EAEP,CAACrB,KAAD,CAFO,CAAT;AAID","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect} from \"react-router-dom\";\nimport {variables} from \"../urls.js\";\n\nfunction useForceUpdate(){\n  let [value, setState] = useState(true);\n  return () => setState(!value);\n}\nlet renderedBooks = \"\";\n\nfunction Feed({getToken, setBookId}) {\n  const [books, setBooks] = useState(null);\n  const forceUpdate = useForceUpdate();\n\n\n  const fetchBooks = async () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n    const response = await axios.get(url, { headers: { Authorization: 'Bearer ' + token.access }, crossDomain: false, params: {user_id: '1'}});\n    setBooks(response.data);\n    console.log(response.data);\n  }\n\n  useEffect(() => {\n    setRenderedBooks();\n\t}, [books]);\n\n}\n"]},"metadata":{},"sourceType":"module"}