{"ast":null,"code":"/*\nimport React, { useState, useEffect } from 'react';\nimport { Redirect} from \"react-router-dom\";\nimport axios from 'axios';\nimport {variables} from \"../urls.js\";\n\nfunction useForceUpdate(){\n  let [value, setState] = useState(true);\n  return () => setState(!value);\n}\n\nfunction AllBooks({getToken}) {\n  const [books, setBooks] = useState([{title: \"ASD\"}]);\n  const forceUpdate = useForceUpdate();\n\n\n  const fetchBooks = async () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n    const response = await axios.get(url, { headers: { Authorization: 'Bearer ' + token.access }, crossDomain: false, params: {user_id: '1'}});\n    setBooks(response.data);\n  }\n\n  useEffect(() => {\n    setRenderedBooks();\n\t}, [books]);\n\n  useEffect(() => {\n\t  fetchBooks();\n\t}, []);\n\n  var renderedBooks = \"ASD\"\n\n  function setRenderedBooks() {\n    console.debug(books);\n    if (books) {\n      renderedBooks = books[0].title;\n      console.log(renderedBooks);\n      forceUpdate();\n    }\n    else {\n      renderedBooks = \"UPDATED\";\n    }\n  }\n\n  let count = 0;\n\n  return (\n    <>\n      <h3 class=\"header\">My Books</h3>\n      <div>\n    Asd\n      </div>\n      <div>\n        <h1>{count++} times clicked</h1>\n\n        <button onClick={forceUpdate}>Refresh</button>\n    </div>\n    </>\n  );\n}\n*/\nexport default AllBooks;","map":{"version":3,"sources":["/home/kau/projects/acad/spe/mind-note-frontend/src/components/allbooks.component.js"],"names":["AllBooks"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,eAAeA,QAAf","sourcesContent":["/*\nimport React, { useState, useEffect } from 'react';\nimport { Redirect} from \"react-router-dom\";\nimport axios from 'axios';\nimport {variables} from \"../urls.js\";\n\nfunction useForceUpdate(){\n  let [value, setState] = useState(true);\n  return () => setState(!value);\n}\n\nfunction AllBooks({getToken}) {\n  const [books, setBooks] = useState([{title: \"ASD\"}]);\n  const forceUpdate = useForceUpdate();\n\n\n  const fetchBooks = async () => {\n    const url = variables.serverUrl + variables.fetchBooksEndpoint;\n    const token = getToken();\n    const response = await axios.get(url, { headers: { Authorization: 'Bearer ' + token.access }, crossDomain: false, params: {user_id: '1'}});\n    setBooks(response.data);\n  }\n\n  useEffect(() => {\n    setRenderedBooks();\n\t}, [books]);\n\n  useEffect(() => {\n\t  fetchBooks();\n\t}, []);\n\n  var renderedBooks = \"ASD\"\n\n  function setRenderedBooks() {\n    console.debug(books);\n    if (books) {\n      renderedBooks = books[0].title;\n      console.log(renderedBooks);\n      forceUpdate();\n    }\n    else {\n      renderedBooks = \"UPDATED\";\n    }\n  }\n\n  let count = 0;\n\n  return (\n    <>\n      <h3 class=\"header\">My Books</h3>\n      <div>\n    Asd\n      </div>\n      <div>\n        <h1>{count++} times clicked</h1>\n\n        <button onClick={forceUpdate}>Refresh</button>\n    </div>\n    </>\n  );\n}\n*/\n\nexport default AllBooks\n"]},"metadata":{},"sourceType":"module"}